<p id="notice"><%= notice %></p>

<div class="container">
  <h1>Adrien's Blog</h1>
  <h2>My first application of Ruby for the bootcamp  </h2>

  <div class="row">
    <div class="colum-sm-8">
	
<%= form_tag(articles_path, :method => "get", id: "search-form") do %>
<%= text_field_tag :search, params[:search], placeholder: "Search Articles" %>
<%= submit_tag "Search" %>
<% end %>


	</div>
</div>
    <div class="colum-sm-8">
      <ul>
        <% @articles.each do |article| %>
        <div class="card">
          <div class="card-block">
            <h4 class="card-title"><%= article.title %></h4>
            <p>Tag: <%= article.tag_list %> </p>
            <p class="card-text"><%= @markdown.render(article.body).html_safe %>
            </p>

          </div>
          <div class="card-footer">
            <%= link_to 'Show/Add comment', article_path(article), class: 'btn btn-warning' %>
            <%= link_to 'Edit', edit_article_path(article), class: 'btn btn-warning' %>
            <%= link_to 'Delete',  article_path(article), method: :delete, data: { confirm: 'Are you sure?'},class: 'btn btn-warning' %>
            <p>
              <b>views:</b>
              <%= article.view %>
            </p>
          </div>
        <% @commentshows.each do |show| %>
        <%if show.article_id == article.id %>
           <p class="card-text">Comment <br> <%= show.body %></p>
          <div class="card-footer">
            <%= link_to 'Edit', edit_comment_path(show), class: 'btn btn-warning' %>
            <%= link_to 'Delete', comment_path(show), method: :delete, data: { confirm: 'Are you sure?' } %>
          </div>
      <% end %> 

      <% end %>

        </div>
              <br>
      <br>
      <br>
      <% end %>
      </ul>
      <br>
    </div>
  </div>


        <%= link_to 'New Article', new_article_path %>
        
  </div>
